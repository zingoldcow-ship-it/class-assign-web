<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë°˜ë°°ì • ê²°ê³¼</title>
  <style>
    :root{ --bg:#0b1020; --card:#121a33; --text:#e9ecf1; --muted:#a9b1c6; --accent:#7aa2ff; --danger:#ff6b6b; --ok:#3ddc97; }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,Arial,sans-serif;background:var(--bg);color:var(--text);}
    header{padding:16px;border-bottom:1px solid rgba(255,255,255,.08);position:sticky;top:0;background:rgba(11,16,32,.9);backdrop-filter:blur(8px);z-index:50;}
    .wrap{max-width:1300px;margin:0 auto;padding:14px;}
    h1{margin:0;font-size:18px;}
    .sub{margin-top:6px;color:var(--muted);font-size:13px;line-height:1.4}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .pill{font-size:12px;border:1px solid rgba(255,255,255,.14);padding:6px 10px;border-radius:999px;color:var(--muted);}
    .pill.ok{border-color:rgba(61,220,151,.55);color:#c9ffe9}
    .pill.warn{border-color:rgba(255,107,107,.55);color:#ffd7d7}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;align-items:start}
    @media (max-width: 980px){ .grid{grid-template-columns:1fr;} }
    .card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px;box-shadow:0 8px 24px rgba(0,0,0,.25);}
    .panelTitle{font-size:14px;margin:0 0 10px 0;}
    button{background:var(--accent);border:none;color:#071022;padding:10px 12px;border-radius:12px;font-weight:900;cursor:pointer}
    button.secondary{background:rgba(255,255,255,.08); color: var(--text); border:1px solid rgba(255,255,255,.12)}
    table{width:100%;border-collapse:collapse;font-size:12px}
    th,td{border-bottom:1px solid rgba(255,255,255,.08);padding:8px 6px;text-align:left;white-space:nowrap}
    th{color:var(--muted);font-weight:600;position:sticky;top:0;background:rgba(18,26,51,.96)}
    .small{font-size:12px;color:var(--muted)}
    .danger{color:var(--danger)}
    canvas{width:100% !important;height:100% !important;display:block}
    .chartBox{height:260px;position:relative}
    a{color:#b9c9ff}
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="row" style="justify-content:space-between;">
      <div>
        <h1>âœ… ë°˜ë°°ì • ê²°ê³¼</h1>
        <div class="sub">ì´ í™”ë©´ì€ <b>ê²°ê³¼ ì „ìš© íƒ­</b>ì…ë‹ˆë‹¤. (ì„œë²„ ì „ì†¡ 0 Â· ë¸Œë¼ìš°ì € ë‚´ë¶€ ì²˜ë¦¬)</div>
      </div>
      <div class="row">
        <button class="secondary" id="backBtn">â† ì„¤ì • í™”ë©´</button>
        <button id="downloadBtn">ê²°ê³¼ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
      </div>
    </div>

    <div class="row" style="margin-top:10px">
      <span class="pill ok" id="metaPill">-</span>
      <span class="pill" id="scorePill">Score: -</span>
      <span class="pill warn" id="sepPill">ë¶„ë¦¬ ìœ„ë°˜: -</span>
      <span class="pill" id="carePill">ë°°ë ¤ ë¯¸ì¶©ì¡±: -</span>
    </div>
  </div>
</header>

<main class="wrap" style="display:flex;flex-direction:column;gap:14px;">
  <section class="grid">
    <section class="card">
      <h2 class="panelTitle">ğŸ“Š ë°˜ë³„ ìš”ì•½</h2>
      <div id="classSummary" class="small">-</div>
    </section>
    <section class="card">
      <h2 class="panelTitle">âš ï¸ ë¶„ë¦¬/ë°°ë ¤ ë¦¬í¬íŠ¸</h2>
      <div class="small">
        â€¢ <b>ë¶„ë¦¬ ìœ„ë°˜</b>: ê°™ì€ ë¶„ë¦¬ì½”ë“œê°€ ê°™ì€ ë°˜ì— 2ëª… ì´ìƒì¸ ê²½ìš°<br/>
        â€¢ <b>ë°°ë ¤ ë¯¸ì¶©ì¡±</b>: ê°™ì€ ë°°ë ¤ì½”ë“œ ê·¸ë£¹ì´ ì—¬ëŸ¬ ë°˜ìœ¼ë¡œ í©ì–´ì§„ ì •ë„<br/>
      </div>
      <div style="height:10px"></div>
      <div id="violations" class="small">-</div>
    </section>
  </section>

  <section class="card">
    <h2 class="panelTitle">ğŸ“ˆ ê·¸ë˜í”„(ë°˜ë³„ ë¶„í¬)</h2>
    <div class="small">* ì„±ëŠ¥/ì•ˆì •ì„±ì„ ìœ„í•´ ì°¨íŠ¸ëŠ” ë°˜ì‘í˜•(responsive) OFF ìƒíƒœë¡œ ë Œë”ë§í•©ë‹ˆë‹¤.</div>
    <div style="height:12px"></div>
    <div class="grid">
      <div class="card" style="padding:12px;">
        <div class="small">ë°˜ë³„ ì¸ì›</div>
        <div class="chartBox"><canvas id="cntChart" height="260"></canvas></div>
      </div>
      <div class="card" style="padding:12px;">
        <div class="small">ë°˜ë³„ ë‚¨/ì—¬</div>
        <div class="chartBox"><canvas id="genderChart" height="260"></canvas></div>
      </div>
    </div>
  </section>

  <section class="card">
    <h2 class="panelTitle">ğŸ“‹ ë°°ì •í‘œ</h2>
    <div class="row" style="margin-bottom:10px;">
      <label class="small">ë°˜ í•„í„°</label>
      <select id="classFilter"></select>
      <span class="small" id="tableMeta"></span>
    </div>
    <div style="overflow:auto; max-height: 560px;">
      <table id="resultTable"></table>
    </div>
  </section>

  <section class="card">
    <h2 class="panelTitle">ğŸ”’ ê°œì¸ì •ë³´ ì•ˆë‚´(ê³µëª¨ì „ìš©)</h2>
    <div class="small">
      ì´ ì›¹ì•±ì€ ì •ì  ì›¹í˜ì´ì§€(HTML/JS)ë¡œ ë°°í¬ë˜ë©°, ì—‘ì…€ íŒŒì¼ì€ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br/>
      ê³„ì‚° ê²°ê³¼ëŠ” ì´ ë¸Œë¼ìš°ì € íƒ­ì˜ ì„ì‹œ ì €ì¥ê³µê°„(sessionStorage)ì—ë§Œ ì ê¹ ë³´ê´€ë©ë‹ˆë‹¤.
    </div>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script src="./result.js"></script>
</body>
</html>
